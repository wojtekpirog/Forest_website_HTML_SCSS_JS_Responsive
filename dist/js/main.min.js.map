{"version":3,"sources":["main.js"],"names":["navbar","toggleButton","navbarLinksContainer","navbarLinks","overlay","navbarHeight","firstNameInput","lastNameInput","emailAddressInput","contactSelect","messageTextarea","charsCounter","resetButton","submitButton","footerYear","allSections","contactFormControls","popupContainer","closePopupButton","prepareDOMElements","document","querySelector","querySelectorAll","offsetHeight","addListeners","addEventListener","toggleNavbarMenu","closeNavbarMenu","window","innerWidth","handleScrollSpy","handleTextarea","handleFormClear","handleFormSubmit","event","preventDefault","forEach","input","value","checkForm","checkEmailAddress","checkSelect","setTimeout","handlePopup","inputs","showError","concat","previousElementSibling","textContent","slice","clearError","test","innerHTML","length","maxLength","message","style","borderColor","parentElement","errorCount","errorBox","openPopup","closePopup","key","classList","add","setAttribute","remove","toggle","contains","body","dataset","mainPage","activeSectionId","sections","section","scrollY","offsetTop","push","id","navbarLink","setInitialCharsCounter","setFooterYear","currentYear","Date","getFullYear"],"mappings":"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","file":"main.min.js","sourcesContent":["// Navbar\r\nlet navbar;\r\nlet toggleButton;\r\nlet navbarLinksContainer;\r\nlet navbarLinks;\r\n// Overlay\r\nlet overlay;\r\n// `offsetHeight` of navbar\r\nlet navbarHeight;\r\n// Contact form controls\r\nlet firstNameInput;\r\nlet lastNameInput;\r\nlet emailAddressInput;\r\nlet contactSelect;\r\nlet messageTextarea;\r\n// Chars counter\r\nlet charsCounter;\r\n// Contact form buttons\r\nlet resetButton;\r\nlet submitButton;\r\n// Footer\r\nlet footerYear;\r\n// All sections on the page that need to be spied on when scrolling\r\nlet allSections;\r\n// All input elements inside the contact form\r\nlet contactFormControls;\r\n// Popup\r\nlet popupContainer;\r\nlet closePopupButton;\r\n\r\nconst main = () => {\r\n  prepareDOMElements();\r\n  addListeners();\r\n  setInitialCharsCounter();\r\n  setFooterYear();\r\n}\r\n\r\nconst prepareDOMElements = () => {\r\n  navbar = document.querySelector(\".navbar\");\r\n  toggleButton = document.querySelector(\".navbar__burger-icon\");\r\n  navbarLinksContainer = document.querySelector(\".navbar__links\");\r\n  navbarLinks = document.querySelectorAll(\".navbar__link\");\r\n  // Overlay\r\n  overlay = document.querySelector(\".navbar__overlay\");\r\n  // Footer\r\n  footerYear = document.querySelector(\".footer__copyright-year\");\r\n  // Contact form controls\r\n  firstNameInput = document.querySelector(\"#first-name\");\r\n  lastNameInput = document.querySelector(\"#last-name\");\r\n  emailAddressInput = document.querySelector(\"#email\");\r\n  contactSelect = document.querySelector(\"#reason\");\r\n  messageTextarea = document.querySelector(\"#message\");\r\n  // Chars counter\r\n  charsCounter = document.querySelector(\".contact__form-counter\");\r\n  // Contact form buttons\r\n  resetButton = document.querySelector(\".contact__form-button--reset\");\r\n  submitButton = document.querySelector(\".contact__form-button--submit\");\r\n  // All sections on the page\r\n  allSections = document.querySelectorAll(\".page-section\");\r\n  // All input elements inside the contact form\r\n  contactFormControls = document.querySelectorAll(\".contact__form-input\");\r\n  // Popup container\r\n  popupContainer = document.querySelector(\".form-popup__container\");\r\n  closePopupButton = document.querySelector(\".form-popup__close-button\");\r\n\r\n  navbarHeight = navbar.offsetHeight;\r\n}\r\n\r\nconst addListeners = () => {\r\n  toggleButton.addEventListener(\"click\", toggleNavbarMenu);\r\n  overlay.addEventListener(\"click\", closeNavbarMenu);\r\n  \r\n  window.addEventListener(\"resize\", () => window.innerWidth >= 992 && closeNavbarMenu());\r\n  window.addEventListener(\"scroll\", handleScrollSpy);\r\n  \r\n  messageTextarea.addEventListener(\"input\", handleTextarea);\r\n  resetButton.addEventListener(\"click\", handleFormClear);\r\n  submitButton.addEventListener(\"click\", handleFormSubmit);\r\n}\r\n\r\n// Form-related functions\r\n\r\nconst handleFormClear = (event) => {\r\n  event.preventDefault();\r\n\r\n  contactFormControls.forEach((input) => input.value = \"\");\r\n}\r\n\r\nconst handleFormSubmit = (event) => {\r\n  event.preventDefault();\r\n\r\n  checkForm([firstNameInput, lastNameInput, emailAddressInput, messageTextarea]);\r\n  checkEmailAddress(emailAddressInput);\r\n  checkSelect(contactSelect);\r\n  // Symulacja wysyłania formularza\r\n  setTimeout(handlePopup, 1000);\r\n}\r\n\r\nconst checkForm = (inputs) => {\r\n  inputs.forEach((input) => {\r\n    input.value === \"\" ? showError(input, `Pole \"${input.previousElementSibling.textContent.slice(0, -2)}\" nie może być puste`) : clearError(input);\r\n  });\r\n}\r\n\r\nconst checkEmailAddress = (emailAddressInput) => {\r\n  const regExp = /^[\\w\\.-]+@[a-zA-Z\\d\\.-]+\\.[a-zA-Z]{2,}$/;\r\n  \r\n  if (emailAddressInput.value === \"\") {\r\n    showError(emailAddressInput, 'Pole \"Adres e-mail\" nie może być puste');\r\n  } else if (!regExp.test(emailAddressInput.value)) {\r\n    showError(emailAddressInput, 'Adres e-mail jest nieprawidłowy');\r\n  } else {\r\n    clearError(emailAddressInput);\r\n  }\r\n}\r\n\r\nconst checkSelect = (contactSelect) => {\r\n  if (contactSelect.value === \"\") {\r\n    showError(contactSelect, \"Powiedz nam, w jakiej sprawie piszesz\");\r\n  } else {\r\n    clearError(contactSelect);\r\n  }\r\n}\r\n\r\nconst handleTextarea = () => {\r\n  charsCounter.innerHTML = `<p class=\"contact__form-counter\"><span>${messageTextarea.value.length}</span>/${messageTextarea.maxLength}</p>`;\r\n\r\n  if (messageTextarea.value.length === messageTextarea.maxLength) {\r\n    messageTextarea.value = messageTextarea.value.slice(0, messageTextarea.maxLength + 1);\r\n    showError(messageTextarea, `Osiągnięto limit ${messageTextarea.maxLength} znaków.`);\r\n  } else {\r\n    clearError(messageTextarea);\r\n  }\r\n}\r\n\r\nconst showError = (input, message) => {\r\n  input.style.borderColor = \"hsl(0, 100%, 40%)\";\r\n  input.parentElement.querySelector(\".contact__form-error\").textContent = message;\r\n}\r\n\r\nconst clearError = (input) => {\r\n  input.style.borderColor = \"hsl(0, 0%, 25%)\";\r\n  input.parentElement.querySelector(\".contact__form-error\").textContent = \"\";\r\n}\r\n\r\n// Popup-related functions\r\n\r\nconst handlePopup = () => {\r\n  let errorCount = 0;\r\n  \r\n  const errorsBoxes = document.querySelectorAll(\".contact__form-error\");\r\n  errorsBoxes.forEach((errorBox) => errorBox.textContent !== \"\" && (errorCount += 1));\r\n\r\n  if (errorCount === 0) {\r\n    openPopup();\r\n  } else {\r\n    closePopup();\r\n  }\r\n\r\n  // Zamknij popup po naciśnięciu klawisza ESC\r\n  document.addEventListener(\"keydown\", (event) => {\r\n    if (event.key === \"Escape\" || event.key === \"Esc\") closePopup();\r\n  });\r\n}\r\n\r\nconst openPopup = () => {\r\n  popupContainer.classList.add(\"form-popup__container--active\");\r\n  popupContainer.setAttribute(\"aria-hidden\", false);\r\n  closePopupButton.addEventListener(\"click\", closePopup);\r\n}\r\n\r\nconst closePopup = () => {\r\n  popupContainer.classList.remove(\"form-popup__container--active\");\r\n  popupContainer.setAttribute(\"aria-hidden\", true);\r\n}\r\n\r\n// Navbar-related functions\r\n\r\nconst toggleNavbarMenu = () => {\r\n  toggleButton.classList.toggle(\"navbar__burger-icon--active\");\r\n  navbarLinksContainer.classList.toggle(\"navbar__links--active\");\r\n  overlay.classList.toggle(\"navbar__overlay--active\");\r\n\r\n  if (navbarLinksContainer.classList.contains(\"navbar__links--active\")) {\r\n    toggleButton.setAttribute(\"aria-expanded\", \"true\");\r\n    toggleButton.setAttribute(\"aria-label\", \"Zamknij menu nawigacyjne\");\r\n  } else {\r\n    toggleButton.setAttribute(\"aria-expanded\", \"false\");\r\n    toggleButton.setAttribute(\"aria-label\", \"Otwórz menu nawigacyjne\");\r\n  }\r\n}\r\n\r\nconst closeNavbarMenu = () => {\r\n  overlay.classList.remove(\"navbar__overlay--active\");\r\n  toggleButton.classList.remove(\"navbar__burger-icon--active\");\r\n  toggleButton.setAttribute(\"aria-expanded\", \"false\");\r\n  toggleButton.setAttribute(\"aria-label\", \"Otwórz menu nawigacyjne\");\r\n  navbarLinksContainer.classList.remove(\"navbar__links--active\");\r\n}\r\n\r\n// Scroll spy\r\n\r\nconst handleScrollSpy = () => {\r\n  // We want the scroll spy to work only on the main page:\r\n  if (document.body.dataset.mainPage === \"true\") {\r\n    const sections = []; // Sections for which `offsetHeight` + `offsetTop` - navbarHeight <= `window.scrollY`\r\n\r\n    allSections.forEach((section) => {\r\n      if (window.scrollY <= section.offsetHeight + section.offsetTop - navbarHeight) {\r\n        sections.push(section);\r\n      }\r\n    });\r\n\r\n    allSections.forEach((section) => section.classList.remove(\"page-section--active\"));\r\n    sections[0].classList.add(\"page-section--active\");\r\n\r\n    let activeSectionId;\r\n    allSections.forEach((section) => section.classList.contains(\"page-section--active\") && (activeSectionId = section.id));\r\n\r\n    navbarLinks.forEach((navbarLink) => navbarLink.classList.remove(\"navbar__link--active\"));\r\n    document.querySelector(`.navbar__link[href*=\"${activeSectionId}\"]`).classList.add(\"navbar__link--active\");\r\n  }\r\n}\r\n\r\nconst setInitialCharsCounter = () => {\r\n  charsCounter.innerHTML = `<span>${messageTextarea.value.length}</span>/${messageTextarea.maxLength}`;\r\n}\r\n\r\nconst setFooterYear = () => {\r\n  const currentYear = new Date().getFullYear();\r\n  footerYear.textContent = currentYear;\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", main);"]}